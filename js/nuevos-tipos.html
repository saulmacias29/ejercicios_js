<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nuevos tipos en JavaScript</title>
</head>

<body>
  <h1>Nuevos tipos en JavaScript</h1>
  <script>
    console.log("sasa")

    /*SYMBOLS*//*
    let id = Symbol("id");
    let id2 = Symbol("id2");
    console.log(id == id2);
    console.log(typeof id, typeof id2);
    const NAME = Symbol();
    const SALUDAR = Symbol();
    const persona = {
      [NAME]: "Saul",
      edad: 35
    }
    console.log(persona);
    persona.NAME = "Saul Macias";
    console.log(persona);
    console.log(persona[NAME]);

    persona[SALUDAR] = function () {
      console.log("Hola")
    }
    console.log(persona);
    persona[SALUDAR]();
    for (let propiedad in persona) {
      console.log(propiedad);
      console.log(persona[propiedad])
    }
    console.log(Object.getOwnPropertySymbols(persona))

    //SETS
    const set = new Set([1, 2, 3, 4, 5, 3, 32, true, false, false, {}, {}, "Hola", "HOLA"]);
    console.log(set);
    console.log(set.size);
    const set2 = new Set();
    set2.add(1);
    set2.add(1);
    set2.add(2);
    set2.add(3);
    set2.add({});
    set2.add({});
    console.log(set2);
    console.log(set2.size);
    console.log("recorriendo set")
    for (const item of set) {
      console.log(item)
    }
    console.log("recorriendo set2")
    set.forEach(item => console.log(item))
    let arr = Array.from(set);
    console.log(arr[0]);
    set.delete("HOLA");
    console.log(set);
    console.log(set.has("Hola"));
    console.log(set.has(19));
    console.log(set.has(true));
    set2.clear();
    console.log(set2)
    //maps
    const mapa = new Map();
    mapa.set("nombre", "saul");
    mapa.set("apellido", "macias");
    mapa.set("edad", 35);
    console.log(mapa);
    console.log(mapa.size);
    console.log(mapa.has("nombre"));
    console.log(mapa.has("nombr"));
    console.log(mapa.get("nombre"));
    mapa.set("nombre", "Saul MB");
    console.log(mapa.get("nombre"));
    mapa.delete("apellido");

    mapa.set(19, "deicineuve");
    mapa.set(false, "false");
    mapa.set({}, {})
    console.log(mapa);
    for (const [key, value] of mapa) {
      console.log(`Llave: ${key}, Valor: ${value}`)
    }

    const mapa2 = new Map(
      [
        ["nombre", "Saul Macias Baltazar"],
        ["edad", 7],
        [null, "nulo"]
      ]
    );
    console.log(mapa2);
    for (const [key, value] of mapa2) {
      console.log(`Llave: ${key}, Valor: ${value}`)
    }

    const llavesMapa2 = [...mapa2.keys()];
    const valuesMapa2 = [...mapa2.values()];
    console.log(valuesMapa2);
    console.log(llavesMapa2);
    //WeakSets & WeakMaps
    const ws = new WeakSet();
    let valor1 = { "valor1": 1 };
    let valor2 = { "valor1": 2 };
    let valor3 = { "valor1": 3 };
    ws.add(valor1);
    ws.add(valor2);
    ws.add(valor3);
    console.log(ws);
    console.log(ws.has(valor1));
    setInterval(() => {
      console.log(ws)
    }, 1000);
    setTimeout(() => {
      valor1 = null;
      valor2 = null;
      valor3 = null;
    }, 5000)
    const wm = new WeakMap();
    let valor1 = {};
    let valor2 = {};
    let valor3 = {};

    wm.set(valor1, 1);
    wm.set(llave2, 2);
    console.log(wm);
    //const iterable = [1, 2, 3, 4, 5];
    const iterable = "Hola mundo";
    const iterador = iterable[Symbol.iterator]();


    console.log(iterable);
    console.log(iterador);
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    let next = iterador.next();
    while (!next.done) {
      console.log(next.value);
      next = iterador.next();
    function* iterable() {
      yield "Hola";
      console.log("Hola consola");
      yield "Hola2";
      console.log("Hola consola, todavia");
      yield "Hola3";
      yield "Hola4";
    }
    let iterador = iterable();
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    for (let y of iterador) {
      console.log(y);
    }
    const arr = [...iterable()];
    console.log(arr);
    function cudrado(valor) {
      setTimeout(() => {
        return console.log({
          valor, resultado: valor * valor
        })
      }, Math.random() * 1000);

    }
    function* generador() {
      console.log("inica generator");
      yield cudrado(0);
      yield cudrado(1);
      yield cudrado(2);
      yield cudrado(3);
      yield cudrado(4);
      console.log("termina generator");
    }
    let gen = generador();
    for (const y of gen) {
      console.log(y);
    }
    const persona = {
      nombre: "",
      apellido: "",
      edad: 0
    }
    const manejador = {
      set(obj, prop, valor) {
        if (Object.keys(obj).indexOf(prop) === -1) {
          return console.error("La propiedad no existe")
        }
        obj[prop] = valor;
      }
    }
    const saul = new Proxy(persona, manejador);
    saul.nombre = "Saul";
    saul.apellido = "Macias";
    saul.edad = 35;
    saul.twitter = "@saulmacais29";
    console.log(saul)

*/
    const objUsuarios = {
      [`id_${Math.round(Math.random() * 100 + 5)}`]: "valor aleatoria"
    }
    const usuarios = ["Saul", "Kenai", "Jon"];
    console.log(objUsuarios);
    usuarios.forEach((usuario, index) => objUsuarios[`id_${index}`] = usuario);
    console.log(objUsuarios);
  </script>
</body>

</html>